#!/usr/bin/python

def inventory_decru_power(checkname, info):
    return [ (l[0], "", None) for l in info ]

def check_decru_power(item, params, info):
    for power in info:
       if power[0] == item:
          if power[1] != "1":
	     return (2, "CRIT - power supply in state %s" % power[1])
          else:
	     return (0, "OK - power supply ok")

    return (3, "UNKNOWN - power supply not found")

check_info['decru_power'] = (check_decru_power, "POWER %s", 0, inventory_decru_power)

snmp_info['decru_power'] = ( "enterprises.12962.1.2.6.1", [ 2, 3 ] )
# snmp_scan_info['decru_power'] = ( "enterprises.12962.1.1.1.1", "=", "san" )
# oder (SNMPv2-MIB::sysObjectID.0 = OID: SNMPv2-SMI::enterprises.12962.2.1.4):
# snmp_scan_info['decru_power'] = ( ".1.3.6.1.2.1.1.2.0", "=", ".1.3.6.1.4.1.12962.2.1.4" )

