# inventory
def inventory_3ware_units(checkname, info):
    inventory = []
    for line in info:
	unit = line[0]
	inventory.append( (unit, "", None) )
    return inventory

# check
def check_3ware_units(item, param, info):
    for line in info:
	status = str(line[2])
	if status == "OK":
	    unit_type = str(line[1])
	    size = str(line[6])
	    infotext = "%s  (typ: %s ,size: %s GB)" % (status, unit_type, size)
	    return (0, "OK - unit status is " + infotext)
	else:
	    return (2, "CRITICAL - unit status is " + infotext)
    return (3, "UNKNOWN - unit %s not found in agent output" % item) 

# declare the check to Check_MK
check_info['3ware_units'] = \
	(check_3ware_units, "RAID 3ware unit %s", 0, inventory_3ware_units)
